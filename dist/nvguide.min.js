!function(t,i){"use strict";function e(t,i,e,n,s,o){var d={};return d.left={x:0,y:0,width:e,height:i},d.up={x:e,y:0,width:t-e,height:n},d.right={x:e+s,y:n,width:t-e-s,height:o},d.down={x:e,y:n+o,width:t-e,height:i-n-o},d}function n(i){var e=d,n=h;for(var s in i){var o=i[s],r=t("<div></div>");r.addClass("guide_div"),t("body").append(r),r.css({width:o.width,height:o.height,left:o.x,top:o.y}),"left"==s?r.css({left:-o.width,top:0}):"up"==s?r.css({top:-o.height,left:0,width:e}):"right"==s?r.css({top:0,left:e,height:n}):"down"==s&&r.css({left:0,top:n,width:e}),r.animate({height:o.height,width:o.width,left:o.x,top:o.y},"fast")}}var s=function(){},o=1e4,d=isNaN(i.innerWidth)?i.clientWidth:i.innerWidth,h=isNaN(i.innerHeight)?i.clientHeight:i.innerHeight,r={bundle:!1,onGuideBefore:s,onGuideAfter:s,onGuideDone:s,onGuideStart:s,timMargin:75,tipClass:"guide_tip"},u=function(i){this.settings=i,this.guideList=[],this.guidestep=0,this.tip=t('<div class="guide_tip_base '+this.settings.tipClass+'"></div>'),t("body").append(this.tip)};u.prototype={constructor:u,add:function(t,i,e,n){return this.guideList.push([t,i,e,n]),this},next:function(){function i(){void 0!=f&&f(),s.settings.onGuideAfter(r),s.next()}var s=this;if(s.guidestep>=s.guideList.length)return void s.over();var r=s.guideList[s.guidestep],u=t(r[0]),g=r[2],f=r[3],p=r[1];s.settings.onGuideBefore(r),(0==u.length||void 0===u||null===u)&&t.error(" target is not found: "+r[0]);var c=u.offset(),a=t('<div class="guide_block"></div>');return t.when(t("body").animate({scrollTop:u.offset().top-h/2},300)).done(function(){var r=t("body").css("overflow");t("body").css("overflow","hidden");var f=e(d,h,c.left,c.top-t(document).scrollTop(),u.outerWidth(),u.outerHeight());if(n(f),s.tip.text(p),s.tip.css({top:c.top-s.settings.timMargin,left:c.left+u.outerWidth()/3,"z-index":o}),s.tip.show(),a.css({top:s.tip.offset().top+s.settings.timMargin,left:c.left,width:u.outerWidth(),height:u.outerHeight()}),t("body").append(a),isNaN(g)||isNaN(parseInt(g)))a.click(function(e){return t(".guide_div").remove(),s.tip.hide().css({"z-index":-1}),a.remove(),t("body").css("overflow",r),g===!0||s.settings.bundle===!0?t.when(u.click()).done(function(){i()}):i(),e.stopPropagation(),e.preventDefault(),!1});else{setTimeout(function(){t(".guide_div").remove(),s.tip.hide().css({"z-index":-1}),a.remove(),t("body").css("overflow",r),i()},g)}}),s.guidestep++,this},start:function(){this.settings.onGuideStart(this.guideList),this.next()},over:function(){this.tip.remove(),this.settings.onGuideDone(this.guideList)}},t.extend({guide:function(i){var e=t.extend({},r,i);return new u(e)}})}(jQuery,window);